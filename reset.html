<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Réinitialiser le mot de passe</title><link rel="stylesheet" href="styles.css">
<link rel="alternate" hreflang="fr" href="https://daoum2020.github.io/Protegemoi/reset.html?lang=fr">
<link rel="alternate" hreflang="en" href="https://daoum2020.github.io/Protegemoi/reset.html?lang=en">
<link rel="alternate" hreflang="es" href="https://daoum2020.github.io/Protegemoi/reset.html?lang=es">
</head>
<body><header class="topbar"><a class="brand" href="index.html"><img src="assets/logo.png" class="logo"><span class="brand-text">ProtègeMoi</span></a></header>
<main class="container">
  <section class="card">
    <h1>Réinitialiser le mot de passe</h1>
    <form class="form" id="resetForm"><label>Email<input type="email" required></label><button class="btn primary" type="submit">Envoyer le lien</button></form>
  </section>
</main>
<footer class="footer"><p>© <span id="year"></span> ProtègeMoi</p></footer>
<script src="script.js"></script><script src="config.js"></script><script type="module" src="auth.js"></script>
<script>
document.getElementById('resetForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const email = e.target.querySelector('input').value.trim();
  if(!email) return;
  const btn = e.target.querySelector('button');
  const old = btn.textContent;
  btn.disabled = true; btn.textContent = 'Envoi...';
  try{ await PM_AUTH.reset(email); alert('Lien envoyé (si compte existant)'); }
  catch(err){ console.error(err); alert('Erreur, réessayez'); }
  finally{ btn.disabled = false; btn.textContent = old; }
});
</script>

</body></html>
