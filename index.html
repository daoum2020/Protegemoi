<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ProtègeMoi - Solution de contrôle parental intelligente pour surveiller et protéger vos enfants en ligne. Surveillance des réseaux sociaux, détection des dangers et alertes en temps réel.">
  <meta name="keywords" content="contrôle parental, sécurité enfants, surveillance internet, protection numérique, cyberharcèlement">
  <meta name="author" content="ProtègeMoi">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://protegemoi.com/">
  <meta property="og:title" content="ProtègeMoi — Contrôle parental intelligent">
  <meta property="og:description" content="Protégez vos enfants en ligne avec notre solution de contrôle parental basée sur l'IA. Surveillance intelligente, alertes en temps réel et rapports détaillés.">
  <meta property="og:image" content="logo-officiel.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://protegemoi.com/">
  <meta property="twitter:title" content="ProtègeMoi — Contrôle parental intelligent">
  <meta property="twitter:description" content="Protégez vos enfants en ligne avec notre solution de contrôle parental basée sur l'IA.">
  <meta property="twitter:image" content="logo-officiel.png">
  
  <title>ProtègeMoi — Contrôle parental intelligent</title>
  <link rel="stylesheet" href="styles.css" />
  
  <!-- Favicons et icônes -->
  <link rel="icon" href="icons/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="icon" href="icons/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="icons/icon-180x180.png" sizes="180x180">
  <link rel="icon" href="icons/icon-192x192.png" sizes="192x192" type="image/png">
  <link rel="icon" href="icons/icon-512x512.png" sizes="512x512" type="image/png">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Couleur de thème pour les navigateurs mobiles -->
  <meta name="theme-color" content="#0a5bd7">
  <meta name="msapplication-TileColor" content="#0a5bd7">
  <meta name="msapplication-config" content="browserconfig.xml">
  
  <!-- URL canonique -->
  <link rel="canonical" href="https://protegemoi.com/">
</head>
<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-link" data-i18n="skip_to_content">Aller au contenu principal</a>
  
  <header class="site-header" role="banner">
    <div class="container nav">
      <a class="brand" href="#" aria-label="ProtègeMoi - Accueil">
        <img src="logo-officiel.png" alt="Logo ProtègeMoi" height="30" width="30">
        <span data-i18n="brand">ProtègeMoi</span>
      </a>
      
      <nav class="menu" role="navigation" aria-label="Navigation principale">
        <button class="menu-toggle" 
                aria-expanded="false" 
                aria-controls="nav-links"
                aria-label="Ouvrir le menu de navigation">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        
        <ul id="nav-links" role="menubar">
          <li role="none"><a href="#comment-ca-marche" role="menuitem" data-i18n="menu_home">Fonctionnement</a></li>
          <li role="none"><a href="features.html" role="menuitem" data-i18n="menu_features">Fonctionnalités clés</a></li>
          <li role="none"><a href="pricing.html" role="menuitem" data-i18n="menu_billing">Abonnements</a></li>
          <li role="none"><a href="contact.html" role="menuitem" data-i18n="menu_contact">Contact</a></li>
        </ul>
      </nav>
      
      <div class="header-controls">
        <label class="lang-label" for="lang" data-i18n="lang_label">Langue</label>
        <select id="lang" aria-label="Sélectionner la langue">
          <option value="fr">Français</option>
          <option value="es">Español</option>
          <option value="nl">Nederlands</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </header>

  <main id="main-content" role="main">
    <section class="hero" aria-labelledby="hero-title">
      <div class="container">
        <div class="hero-content">
          <figure class="hero-image">
            <img src="hero-notification.jpg" 
                 alt="Interface de notification ProtègeMoi montrant une alerte de sécurité pour un enfant" 
                 class="hero-img"
                 loading="eager">
          </figure>
          
          <div class="hero-notification" role="alert" aria-live="polite">
            <strong>ProtègeMoi</strong> — 
            <span data-i18n="hero.alert">Des problèmes sont présents sur les comptes de votre enfant. Affichez-les maintenant.</span>
          </div>
          
          <h1 id="hero-title" data-i18n="hero.title">Obtenez des informations importantes sur la vie de votre enfant</h1>
          
          <p class="hero-description" data-i18n="hero.desc">
            ProtègeMoi vous fait gagner du temps et vous procure une tranquillité d'esprit en surveillant les textos, 
            les réseaux sociaux et les contenus en ligne de votre enfant pour vous alerter des éventuels dangers.
          </p>
          
          <div class="hero-actions">
            <a class="btn btn-primary" href="pricing.html" data-i18n="hero_cta_main">
              Découvrir les abonnements
            </a>
            <a class="btn btn-secondary" href="#comment-ca-marche" data-i18n="hero_cta_secondary">
              Voir comment ça marche
            </a>
          </div>
        </div>
      </div>
    </section>

    <section id="vision" class="vision-section" aria-labelledby="vision-title">
      <div class="container">
        <h2 id="vision-title" data-i18n="vision.title">Notre vision</h2>
        <p data-i18n="vision.body">
          Chez ProtègeMoi, nous croyons que chacun mérite une protection numérique intelligente et accessible.
          Que vous soyez un parent soucieux de la sécurité en ligne de vos enfants, un adolescent qui apprend à poser des limites avec la technologie,
          un jeune adulte confronté aux pressions du monde digital ou encore un senior en quête de sérénité, nos solutions de sécurité évoluent avec vous à chaque étape de la vie.
        </p>
      </div>
    </section>

    <section id="comment-ca-marche" class="how-it-works" aria-labelledby="how-title">
      <div class="container">
        <h2 id="how-title" data-i18n="how_title">Comment ProtègeMoi fonctionne</h2>
        
        <div class="feature-grid">
          <article class="feature-card">
            <figure class="feature-image">
              <img src="features-sheet.png" 
                   alt="Interface de surveillance intelligente montrant l'analyse des contenus" 
                   class="feature-illustration"
                   loading="lazy" />
            </figure>
            <div class="feature-content">
              <h3 data-i18n="how_c1_title">Surveillance intelligente</h3>
              <p data-i18n="how_c1_desc">
                Analyse des messages, recherches, images, vidéos et audio pour détecter cyberharcèlement, 
                pornographie, drogues, sextorsion, etc.
              </p>
            </div>
          </article>

          <article class="feature-card">
            <figure class="feature-image">
              <img src="app-permissions.png" 
                   alt="Interface d'alertes IA avec recommandations d'actions" 
                   class="feature-illustration"
                   loading="lazy" />
            </figure>
            <div class="feature-content">
              <h3 data-i18n="how_c2_title">Alertes IA actionnables</h3>
              <p data-i18n="how_c2_desc">
                Recevez des alertes claires avec contexte et conseils pour agir rapidement.
              </p>
            </div>
          </article>

          <article class="feature-card">
            <figure class="feature-image">
              <img src="apps-collage.jpg" 
                   alt="Tableau de bord avec statistiques d'usage et recommandations" 
                   class="feature-illustration"
                   loading="lazy" />
            </figure>
            <div class="feature-content">
              <h3 data-i18n="how_c3_title">Rapports & insights</h3>
              <p data-i18n="how_c3_desc">
                Tableau de bord avec tendances, heures d'usage, applis les plus utilisées et recommandations personnalisées.
              </p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section id="fonctionnalites-cles" class="features-showcase" aria-labelledby="features-title">
      <div class="container">
        <h2 id="features-title" data-i18n="features_title">Fonctionnalités clés</h2>
        <p class="features-lead" data-i18n="features_lead">
          Découvrez toutes les fonctionnalités qui font de ProtègeMoi la solution de contrôle parental la plus complète.
        </p>
        
        <figure class="features-showcase-image">
          <img src="fonctionnalites-cles.png" 
               alt="Aperçu complet des fonctionnalités ProtègeMoi incluant surveillance, alertes et rapports" 
               loading="lazy">
          <figcaption data-i18n="features_caption">
            Interface complète de ProtègeMoi montrant toutes les fonctionnalités de surveillance et de protection.
          </figcaption>
        </figure>
      </div>
    </section>

    <section id="tarifs" class="pricing-section" aria-labelledby="pricing-title">
      <div class="container">
        <header class="pricing-header">
          <h2 id="pricing-title" data-i18n="pricing_title">
            Abonnements <span class="promo-badge" data-i18n="pricing_promo">Promotion</span>
          </h2>
          
          <div class="billing-toggle" role="group" aria-labelledby="billing-toggle-label">
            <span id="billing-toggle-label" class="sr-only">Choisir la fréquence de facturation</span>
            <span data-i18n="pricing_toggle_monthly">Mensuel</span>
            <label class="toggle-switch" for="billingSwitch">
              <input id="billingSwitch" 
                     type="checkbox" 
                     aria-label="Basculer vers la facturation annuelle"
                     role="switch"
                     aria-checked="false">
              <span class="toggle-slider"></span>
            </label>
            <span>
              <span data-i18n="pricing_toggle_yearly">Annuel</span> 
              <small class="discount-badge" data-i18n="pricing_badge_yearly">-17%</small>
            </span>
          </div>
        </header>

        <div class="pricing-grid">
          <article class="pricing-card">
            <div class="pricing-ribbon" data-i18n="pricing_promo">Promotion</div>
            <h3 data-i18n="plan_1_title">1 enfant</h3>
            <p class="pricing-amount" 
               data-monthly="7,99 € / mois" 
               data-yearly="6,63 € / mois (79,56 € / an)">
              7,99 € / mois
            </p>
            <a class="btn btn-primary" href="#paiement-1" data-i18n="plan_cta_1">Souscrire</a>
          </article>

          <article class="pricing-card pricing-card--popular">
            <div class="pricing-ribbon pricing-ribbon--popular">Populaire</div>
            <h3 data-i18n="plan_2_title">2 enfants</h3>
            <p class="pricing-amount" 
               data-monthly="12,99 € / mois" 
               data-yearly="10,78 € / mois (129,36 € / an)">
              12,99 € / mois
            </p>
            <a class="btn btn-secondary" href="#paiement-2" data-i18n="plan_cta_2">Souscrire</a>
          </article>

          <article class="pricing-card">
            <div class="pricing-ribbon" data-i18n="pricing_promo">Promotion</div>
            <h3 data-i18n="plan_3_title">3 enfants</h3>
            <p class="pricing-amount" 
               data-monthly="17,99 € / mois" 
               data-yearly="14,93 € / mois (179,16 € / an)">
              17,99 € / mois
            </p>
            <a class="btn btn-ghost" href="#paiement-3" data-i18n="plan_cta_3">Souscrire</a>
          </article>
        </div>
        
        <p class="pricing-note" data-i18n="pricing_note">
          Annuel = -17% déjà appliqué. Abonnement résiliable à tout moment.
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container">
      <p class="copyright">
        © <span id="year"></span> <span data-i18n="brand">ProtègeMoi</span>. 
        <span data-i18n="footer_rights">Tous droits réservés.</span>
      </p>
    </div>
  </footer>

  <script src="script.js"></script>
  <script src="i18n.js"></script>
  
  <!-- PWA Service Worker -->
  <script>
    // Enregistrement du Service Worker pour la PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then((registration) => {
            console.log('Service Worker enregistré avec succès:', registration.scope);
            
            // Écouter les mises à jour
            registration.addEventListener('updatefound', () => {
              const newWorker = registration.installing;
              newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  // Nouvelle version disponible
                  if (confirm('Une nouvelle version de ProtègeMoi est disponible. Voulez-vous la charger ?')) {
                    newWorker.postMessage({ type: 'SKIP_WAITING' });
                    window.location.reload();
                  }
                }
              });
            });
          })
          .catch((error) => {
            console.log('Échec de l\'enregistrement du Service Worker:', error);
          });
      });

      // Écouter les messages du Service Worker
      navigator.serviceWorker.addEventListener('message', (event) => {
        if (event.data.type === 'UPDATE_AVAILABLE') {
          console.log('Mise à jour disponible');
        }
      });
    }

    // Gestion de l'installation de la PWA
    let deferredPrompt;
    
    window.addEventListener('beforeinstallprompt', (e) => {
      // Empêcher l'affichage automatique de la bannière d'installation
      e.preventDefault();
      deferredPrompt = e;
      
      // Afficher un bouton d'installation personnalisé
      showInstallButton();
    });

    function showInstallButton() {
      // Créer un bouton d'installation discret
      const installButton = document.createElement('button');
      installButton.textContent = '📱 Installer l\'app';
      installButton.className = 'btn btn-secondary install-button';
      installButton.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        border-radius: 25px;
        padding: 10px 20px;
        font-size: 14px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        animation: slideIn 0.3s ease-out;
      `;
      
      // Ajouter l'animation CSS
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideIn {
          from { transform: translateY(100px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .install-button:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }
      `;
      document.head.appendChild(style);
      
      installButton.addEventListener('click', async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt();
          const result = await deferredPrompt.userChoice;
          
          if (result.outcome === 'accepted') {
            console.log('PWA installée');
          }
          
          deferredPrompt = null;
          installButton.remove();
        }
      });
      
      document.body.appendChild(installButton);
      
      // Masquer le bouton après 10 secondes
      setTimeout(() => {
        if (installButton.parentNode) {
          installButton.style.animation = 'slideIn 0.3s ease-out reverse';
          setTimeout(() => installButton.remove(), 300);
        }
      }, 10000);
    }

    // Détecter si l'app est déjà installée
    window.addEventListener('appinstalled', (evt) => {
      console.log('PWA installée avec succès');
      // Optionnel : afficher un message de confirmation
    });
  </script>
</body>
</html>
